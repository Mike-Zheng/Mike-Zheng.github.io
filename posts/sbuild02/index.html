<!DOCTYPE html><html lang="zh-Hant-TW"><head><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json"><meta charset="UTF-8"><title>[作品筆記] sketch-builder 雲端原型工具開發筆記(02) - sketch資料結構分析 | Mike前端工程師筆記</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3,minimum-scale=1"><meta name="author" content="mikeZheng"><meta name="description" content="sketch資料檔案分析近年來一些side project上非常頻繁使用mac上才有的 sketch的編輯器，漸漸變成自己塑模prototype的主要工具。優點有很多，一是相關套件很多方便討論，二是容易上手。相信不少設計為主的相關從業人員使用sketch上都有不錯的回饋。基本上使用sketch大概是現今UX主流的工具之一。也因為從去年中開始，在工作專案上遇到不少問題，不容易操作的圖像與工控對於新技"><meta name="keywords" content="專案"><meta property="og:type" content="article"><meta property="og:title" content="[作品筆記] sketch-builder 雲端原型工具開發筆記(02)  - sketch資料結構分析"><meta property="og:url" content="https://mike-zheng.github.io/posts/sbuild02/index.html"><meta property="og:site_name" content="Mike前端工程師筆記"><meta property="og:description" content="sketch資料檔案分析近年來一些side project上非常頻繁使用mac上才有的 sketch的編輯器，漸漸變成自己塑模prototype的主要工具。優點有很多，一是相關套件很多方便討論，二是容易上手。相信不少設計為主的相關從業人員使用sketch上都有不錯的回饋。基本上使用sketch大概是現今UX主流的工具之一。也因為從去年中開始，在工作專案上遇到不少問題，不容易操作的圖像與工控對於新技"><meta property="og:locale" content="zh-Hant-TW"><meta property="og:image" content="https://mike-zheng.github.io/images/thumbnail.png"><meta property="og:updated_time" content="2022-02-26T14:24:36.917Z"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://mike-zheng.github.io/images/thumbnail.png"><link rel="icon" href="/images/LOGO_192x192.png"><link rel="apple-touch-icon" href="/images/LOGO_144x144.png"><link rel="apple-touch-icon-precomposed" href="/images/LOGO_144x144.png"><meta name="apple-mobile-web-app-capable" content="yes"><link href="/images/apple_splash_750.jpg" sizes="750x1334" rel="apple-touch-startup-image"><script deffer>// Detects if device is on iOS 
const isIos = () => {
  const userAgent = window.navigator.userAgent.toLowerCase();
  return /iphone|ipad|ipod/.test( userAgent );
}
// Detects if device is in standalone mode
const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);

// Checks if should display install popup notification:
if (isIos() && !isInStandaloneMode()) {
  this.setState({ showInstallMessage: true });
}</script><!--[if lt IE 9]>
    <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]--><link rel="stylesheet" href="/css/mizUI.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/zclip/1.1.2/jquery.zclip.min.js"></script><link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.6.0/styles/github.min.css"><script src="//cdn.bootcss.com/highlight.js/9.6.0/highlight.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-71903354-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-71903354-1")</script><link rel="stylesheet" href="/css/prism-vsc-dark-plus.css" type="text/css"></head><body><header><div class="header-container"><div id="imglogo" class="site-logo"><a href="/"><img src="/images/LOGO_192x192.png" alt="Mike前端工程師筆記" title="Mike前端工程師筆記"></a></div><div id="textlogo" class="site-name"><div class="site-title"><a href="/" title="Mike前端工程師筆記">前端工程師筆記</a></div></div><div class="nav-container"><div class="nav-head"><nav class="miz-nav"><div class="search-wrapper"><form class="site-search-form"><input type="text" id="local-search-input" class="nav-search st-search-input" autocomplete="off" placeholder="ctrl + `"></form><div id="local-search-result" class="local-search-result-cls"></div></div><ul><li><a href="/">首頁</a></li><li class="active"><a href="/archives">文章</a></li><li><a href="https://www.facebook.com/liwenzheng.mike" target="_blank" rel="noopener">臉書</a></li><li><a href="https://github.com/Mike-Zheng" target="_blank" rel="noopener">Page</a></li><li><div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div></li></ul></nav></div><div id="nav-rwd" class="nav-rwd"><i class="fa fa-bars" aria-hidden="true"></i></div></div></div></header><nav id="mobile-nav" class="mobile-nav"><div id="toc" class="toc-aside"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#null"><span class="toc-number">1.</span> <span class="toc-text">sketch資料檔案分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#sketch-資料解析"><span class="toc-number">1.1.</span> <span class="toc-text">sketch 資料解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-建立-sketch建立"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 建立 sketch建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-解析-sketch檔案"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 解析.sketch檔案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-images-previews-pages-資料夾"><span class="toc-number">1.1.3.</span> <span class="toc-text">3.images & previews & pages 資料夾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-user-json"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. user.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-document-json"><span class="toc-number">1.1.5.</span> <span class="toc-text">5. document.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-meta-json"><span class="toc-number">1.1.6.</span> <span class="toc-text">6. meta.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-pages"><span class="toc-number">1.1.7.</span> <span class="toc-text">7. pages</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-小結"><span class="toc-number">1.1.8.</span> <span class="toc-text">8. 小結</span></a></li></ol></li></ol></li></ol></div><ul class="mobile-menu-container"><a href="/" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-home" aria-hidden="true"></i> 首頁</li></a><a href="/archives" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 文章</li></a><a href="https://www.facebook.com/liwenzheng.mike" target="_blank" rel="noopener" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-facebook-official" aria-hidden="true"></i> 臉書</li></a><a href="https://github.com/Mike-Zheng" target="_blank" rel="noopener" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-github-square" aria-hidden="true"></i> Page</li></a></ul><div class="mobile-side"><div id="authorInfo"><div class="author-logo"></div><section class="author-info"><p>前端工程師的筆記</p></section><div class="social-font"><a href="https://github.com/Mike-Zheng" target="_blank" title="github"></a> <a href="https://www.facebook.com/liwenzheng.mike" target="_blank" title="facebook"></a></div></div><aside class="menu clearfix white-brick"><div class="categorieslist"><p class="asidetitle">Categories</p><ul><a href="/categories/作品/" title="作品"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 作品<sup>16</sup></li></a><a href="/categories/程式筆記/" title="程式筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 程式筆記<sup>12</sup></li></a><a href="/categories/開發筆記/" title="開發筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 開發筆記<sup>3</sup></li></a></ul></div><div class="archiveslist"><p class="asidetitle"><a href="/archives">Archives</a></p><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">1</span></li></ul></div><div class="tagslist"><p class="asidetitle">Tags</p><ul class="clearfix"><a href="/tags/Android/" title="Android"><li><i class="fa fa-tag" aria-hidden="true"></i>Android<sup>1</sup></li></a><a href="/tags/Angularjs/" title="Angularjs"><li><i class="fa fa-tag" aria-hidden="true"></i>Angularjs<sup>2</sup></li></a><a href="/tags/DataMining/" title="DataMining"><li><i class="fa fa-tag" aria-hidden="true"></i>DataMining<sup>1</sup></li></a><a href="/tags/Pokemon/" title="Pokemon"><li><i class="fa fa-tag" aria-hidden="true"></i>Pokemon<sup>1</sup></li></a><a href="/tags/SCSS/" title="SCSS"><li><i class="fa fa-tag" aria-hidden="true"></i>SCSS<sup>2</sup></li></a><a href="/tags/Windows/" title="Windows"><li><i class="fa fa-tag" aria-hidden="true"></i>Windows<sup>1</sup></li></a><a href="/tags/apple-script/" title="apple script"><li><i class="fa fa-tag" aria-hidden="true"></i>apple script<sup>1</sup></li></a><a href="/tags/blog/" title="blog"><li><i class="fa fa-tag" aria-hidden="true"></i>blog<sup>1</sup></li></a><a href="/tags/electron/" title="electron"><li><i class="fa fa-tag" aria-hidden="true"></i>electron<sup>1</sup></li></a><a href="/tags/express-筆記/" title="express 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>express 筆記<sup>1</sup></li></a><a href="/tags/google-API/" title="google API"><li><i class="fa fa-tag" aria-hidden="true"></i>google API<sup>2</sup></li></a><a href="/tags/gulp/" title="gulp"><li><i class="fa fa-tag" aria-hidden="true"></i>gulp<sup>1</sup></li></a><a href="/tags/jQuery/" title="jQuery"><li><i class="fa fa-tag" aria-hidden="true"></i>jQuery<sup>6</sup></li></a><a href="/tags/mysql-筆記/" title="mysql 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>mysql 筆記<sup>1</sup></li></a><a href="/tags/node/" title="node"><li><i class="fa fa-tag" aria-hidden="true"></i>node<sup>1</sup></li></a><a href="/tags/node-筆記/" title="node 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>node 筆記<sup>1</sup></li></a><a href="/tags/npm/" title="npm"><li><i class="fa fa-tag" aria-hidden="true"></i>npm<sup>1</sup></li></a><a href="/tags/npm-筆記/" title="npm 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>npm 筆記<sup>1</sup></li></a><a href="/tags/openCV/" title="openCV"><li><i class="fa fa-tag" aria-hidden="true"></i>openCV<sup>1</sup></li></a><a href="/tags/pwa/" title="pwa"><li><i class="fa fa-tag" aria-hidden="true"></i>pwa<sup>2</sup></li></a></ul></div></aside></div></nav><div class="overlay"></div><div id="container" class="clearfix miz-container"><div id="main" class="post main col-lg-85 col-md-85 col-xs-12" itemscope itemprop="blogPost"><div class="main-container"><article itemprop="articleBody"><header class="article-info clearfix"><h1 itemprop="name"><a href="/posts/sbuild02/" title="[作品筆記] sketch-builder 雲端原型工具開發筆記(02)  - sketch資料結構分析" itemprop="url">[作品筆記] sketch-builder 雲端原型工具開發筆記(02) - sketch資料結構分析</a></h1><p class="article-author">By <a href="https://mike-zheng.github.io" title="mikeZheng">mikeZheng</a></p><p class="article-time"><time datetime="2021-06-27T05:00:05.000Z" itemprop="datePublished">2021-06-27</time></p></header><div class="article-content markdown-body"><div id="toc" class="toc-article"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#null"><span class="toc-number">1.</span> <span class="toc-text">sketch資料檔案分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#sketch-資料解析"><span class="toc-number">1.1.</span> <span class="toc-text">sketch 資料解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-建立-sketch建立"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. 建立 sketch建立</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-解析-sketch檔案"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 解析.sketch檔案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-images-previews-pages-資料夾"><span class="toc-number">1.1.3.</span> <span class="toc-text">3.images & previews & pages 資料夾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-user-json"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. user.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-document-json"><span class="toc-number">1.1.5.</span> <span class="toc-text">5. document.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-meta-json"><span class="toc-number">1.1.6.</span> <span class="toc-text">6. meta.json</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-pages"><span class="toc-number">1.1.7.</span> <span class="toc-text">7. pages</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-小結"><span class="toc-number">1.1.8.</span> <span class="toc-text">8. 小結</span></a></li></ol></li></ol></li></ol></div><h1>sketch資料檔案分析</h1><p>近年來一些side project上非常頻繁使用mac上才有的 sketch的編輯器，漸漸變成自己塑模prototype的主要工具。優點有很多，一是相關套件很多方便討論，二是容易上手。相信不少設計為主的相關從業人員使用sketch上都有不錯的回饋。基本上使用sketch大概是現今UX主流的工具之一。</p><p>也因為從去年中開始，在工作專案上遇到不少問題，不容易操作的圖像與工控對於新技術較為保守，也不容易與設計人員有共鳴的討論。因此想在空閒的假日時間，開發一個類似 sketch的雲端原型工具 sketch-builder。</p><p>所以接下來會有一系列的開發文，主要還是技術傳道與資料結構的想法記錄為主。<br>也一併將這幾年的所學內化，開發成一個找到好方向就能推出的專案產品。</p><p>之後會陸續紀錄在<br><strong>sketch-builder 雲端原型工具:</strong><br><a href="https://mike-zheng.github.io/sketch-builder">https://mike-zheng.github.io/sketch-builder</a></p><hr><h2 id="sketch-資料解析">sketch 資料解析</h2><p>進行之前我們來解析一下sketch的資料結構，<br>並做以之後開發的一個參考。</p><h3 id="1-建立-sketch建立">1. 建立 sketch建立</h3><p>簡單完成一個這樣子有不同種類的物件與群組的sketch檔案<br>先開啟sketch建立一個些結構如</p><p><img src="01.png" alt=".sketch"></p><ol><li>文字</li><li>圖片</li><li>圖形 (圓形 三角形 線 矩形)</li><li>群組 與群組中群組</li></ol><hr><h3 id="2-解析-sketch檔案">2. 解析.sketch檔案</h3><blockquote><p>官方文件: <a href="https://developer.sketch.com/file-format/" target="_blank" rel="noopener">https://developer.sketch.com/file-format/</a></p></blockquote><p>拆開.sketch檔案後可以得到檔案如下</p><p><img src="02.png" alt=".sketch"></p><ol><li>📁 images</li><li>📁 pages</li><li>📁 previews</li><li>🗄️ document.json</li><li>🗄️ meta.json</li><li>🗄️ user.json</li></ol><hr><h3 id="3-images-previews-pages-資料夾">3.images & previews & pages 資料夾</h3><p>images 與previews裡面只有圖片</p><p>分別是</p><ol><li><p>📁 images -> 專案用到的額外圖片資源檔案</p><ul><li>例如我加入一張圖片進去</li></ul></li><li><p>📁 previews 裡面是我的page的縮圖</p></li><li><p>📁 pages 裡面有其他檔名為UUID的json檔案</p><ul><li>有幾個pages就會有幾個檔案他會被記錄在<code>user.json</code>,<code>meta.json</code></li></ul></li></ol><p>將檔案打開後</p><hr><h3 id="4-user-json">4. user.json</h3><p><code>user.json</code></p><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"document"</span><span class="token operator">:</span>
    <span class="token punctuation">{</span>
        <span class="token property">"pageListHeight"</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span>
        <span class="token property">"pageListCollapsed"</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"與pages資料夾內的檔案同名的ID"</span><span class="token operator">:</span>
    <span class="token punctuation">{</span>
        <span class="token property">"scrollOrigin"</span><span class="token operator">:</span> <span class="token string">"{62, 54}"</span><span class="token punctuation">,</span>
        <span class="token property">"zoomValue"</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
    ...
<span class="token punctuation">}</span>

</code></pre><p>基本上打開user裡面紀錄的都是跟使用者針對軟體的設定有關係，<br>其中一些設定跟docment.jons設定又有點像，<br>但主要都是針對用戶操作卻與專案無關的部分。</p><hr><h3 id="5-document-json">5. document.json</h3><p>而document是這樣紀錄</p><p><code>document.json</code></p><pre class="language-json"><code class="language-json">
<span class="token punctuation">{</span>
    <span class="token property">"_class"</span><span class="token operator">:</span> <span class="token string">"document"</span><span class="token punctuation">,</span>
    <span class="token property">"do_objectID"</span><span class="token operator">:</span> <span class="token string">"...."</span><span class="token punctuation">,</span>
    <span class="token property">"colorSpace"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"currentPageIndex"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"assets"</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"foreignLayerStyles"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"foreignSymbols"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"foreignTextStyles"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"layerStyles"</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"layerSymbols"</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"layerTextStyles"</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"pages"</span><span class="token operator">:</span> <span class="token punctuation">[</span>...<span class="token punctuation">]</span><span class="token punctuation">,</span>
    ....
<span class="token punctuation">}</span>

</code></pre><p>document 主要是紀錄整個專案裡面用到的全域紀錄區，<br>例如symbols，sketch常用的module組件，<br>或是pages列表，就像是整個workspace的紀錄區。</p><hr><h3 id="6-meta-json">6. meta.json</h3><p><code>meta.json</code></p><pre class="language-json"><code class="language-json">
<span class="token punctuation">{</span>
    
    <span class="token property">"commit"</span><span class="token operator">:</span> <span class="token string">"......"</span><span class="token punctuation">,</span>
    <span class="token property">"pagesAndArtboards"</span><span class="token operator">:</span>
    <span class="token punctuation">{</span>
        <span class="token property">"....UUID"</span><span class="token operator">:</span>
        <span class="token punctuation">{</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Page 1"</span><span class="token punctuation">,</span>
            <span class="token property">"artboards"</span><span class="token operator">:</span>
            <span class="token punctuation">{</span>
                <span class="token property">"....UUID"</span><span class="token operator">:</span>
                <span class="token punctuation">{</span>
                    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Artboard"</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"version"</span><span class="token operator">:</span> <span class="token number">121</span><span class="token punctuation">,</span>
    <span class="token property">"fonts"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"PingFangTC-Semibold"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"compatibilityVersion"</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span>
    <span class="token property">"app"</span><span class="token operator">:</span> <span class="token string">"com.bohemiancoding.sketch3"</span><span class="token punctuation">,</span>
    <span class="token property">"autosaved"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">"variant"</span><span class="token operator">:</span> <span class="token string">"NONAPPSTORE"</span><span class="token punctuation">,</span>
    <span class="token property">"created"</span><span class="token operator">:</span> <span class="token punctuation">{</span>...<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"saveHistory"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"...."</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"appVersion"</span><span class="token operator">:</span> <span class="token string">"...."</span><span class="token punctuation">,</span>
    <span class="token property">"build"</span><span class="token operator">:</span> ...

<span class="token punctuation">}</span>

</code></pre><p><code>meta.json</code> 就比較像是版本資訊，因為整體的sketch功能因為版本不停地推進，因此紀錄於此。<br>不過比較意外的是這邊紀錄了<code>pagesAndArtboards</code>，</p><p>並且它的結構是<code>KEY VALUE</code>並不是我習慣使用的<code>Array Object</code></p><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
  page<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">'type'</span><span class="token punctuation">:</span><span class="token string">'artboards'</span><span class="token punctuation">,</span>
      <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'Artboard'</span>
    <span class="token punctuation">}</span><span class="token operator">...</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><hr><h3 id="7-pages">7. pages</h3><p>主程式經由<code>document.json</code>, <code>meta.json</code>, <code>user.json</code> 將資料夾pages裡面命名為UUID的json檔案讀進來。</p><p>裡面就會是我主要的重點了，其Json file儲存整個sketch核心的畫布資料。</p><p>與檔案同名的UUID.json</p><p>第一層 page Object 結構</p><pre class="language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>
    <span class="token string">"_class"</span><span class="token punctuation">:</span> <span class="token string">"page"</span><span class="token punctuation">,</span>
    <span class="token string">"do_objectID"</span><span class="token punctuation">:</span> <span class="token string">"與檔案同名UUID"</span> <span class="token punctuation">,</span>
    <span class="token operator">...</span>  <span class="token comment" spellcheck="true">// 一堆繁瑣項目</span>
    <span class="token string">"isLocked"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>   
    <span class="token string">"isVisible"</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">"rotation"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Page 1"</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>  <span class="token comment" spellcheck="true">// 一堆繁瑣項目</span>
    <span class="token string">"frame"</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//整體框 的xywh</span>
    <span class="token punctuation">{</span>
        <span class="token string">"_class"</span><span class="token punctuation">:</span> <span class="token string">"rect"</span><span class="token punctuation">,</span>
        <span class="token string">"constrainProportions"</span><span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">"height"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"width"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"x"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"y"</span><span class="token punctuation">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
    <span class="token string">"style"</span><span class="token punctuation">:</span>   <span class="token comment" spellcheck="true">//page 的 style 設定項</span>
    <span class="token punctuation">{</span>
        <span class="token string">"_class"</span><span class="token punctuation">:</span> <span class="token string">"style"</span><span class="token punctuation">,</span>
        <span class="token string">"do_objectID"</span><span class="token punctuation">:</span> <span class="token string">"..."</span><span class="token punctuation">,</span>
        <span class="token string">"endMarkerType"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"miterLimit"</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        <span class="token string">"startMarkerType"</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">"windingRule"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">"blur"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"borderOptions"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"borders"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"colorControls"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"contextSettings"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">"fills"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"innerShadows"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">"shadows"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token operator">...</span>  <span class="token comment" spellcheck="true">// 一堆繁瑣項目</span>
    <span class="token string">"layers"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">"horizontalRulerData"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">// 尺規對齊線的操作存檔</span>
    <span class="token string">"verticalRulerData"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// 尺規對齊線的操作存檔</span>
<span class="token punctuation">}</span>
</code></pre><p>上方節錄了root Object page的資料結構，<br>其中layers 裡面的樹形結構龐大，我就暫不收錄。</p><p>而layer 節點內的表示法為<br>分為兩種 folder型態的與 item型態的。</p><p>folder 型態:</p><ul><li><p>目前觀察到的是_class 為</p><ul><li>artboard</li><li>group</li></ul></li><li><p>並且擁有</p><ul><li>“layers”: []</li></ul></li></ul><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">"_class"</span><span class="token punctuation">:</span> <span class="token string">"group"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// artboard</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"group..."</span><span class="token punctuation">,</span>
  <span class="token string">"layers"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><p>item型態節點</p><ul><li>目前觀察到的是_class 為<ul><li>rectangle</li><li>shapePath</li><li>triangle</li><li>text</li><li>bitmap</li></ul></li></ul><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string">"_class"</span><span class="token punctuation">:</span> <span class="token string">"rectangle"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// rectangle shapePath triangle text bitmap</span>
  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"rectangle"</span>
<span class="token punctuation">}</span>

</code></pre><hr><h3 id="8-小結">8. 小結</h3><p>經過簡單的拆包觀察，對於sketch的檔案結構有更深入的了解，<br>其中也觀察到一些有趣的地方</p><ol><li>rotation 沒有寫進去frame裡面</li><li>對於artboard來說自己也是rect</li><li>style只記錄跟風格有關的東西</li><li>裡面還記錄了一堆感覺操作app也不知道會在哪的東西</li><li>group屬性裡面的位置邏輯很特別，子節點的xywh是相對於父group的</li></ol><p>陸續更新:<br><strong>sketch-builder 雲端原型工具:</strong><br><a href="https://mike-zheng.github.io/sketch-builder">https://mike-zheng.github.io/sketch-builder</a></p><hr><p>雲端原型工具開發筆記系列文</p><ul><li><p><a href="https://mike-zheng.github.io/sbuild01/">[作品筆記] sketch-builder 雲端原型工具開發筆記(01) - 前端應用軟體領域技術的探索</a></p></li><li><p><a href="https://mike-zheng.github.io/sbuild03/">[作品筆記] sketch-builder 雲端原型工具開發筆記(03) - 開發的目標與介面設計</a></p></li><li><p><a href="https://mike-zheng.github.io/sbuild04/">[作品筆記] sketch-builder 雲端原型工具開發筆記(04) - 功能開發</a></p></li><li><p><a href="https://mike-zheng.github.io/sbuild05/">[作品筆記] sketch-builder 雲端原型工具開發筆記(05) - Beta1.0 功能展示</a></p></li></ul></div><footer class="article-footer clearfix"><div class="article-tags"><span></span> <span class="tag"><a href="/tags/專案/" class="article-tag">專案</a></span></div><div class="article-categories"><span></span> <a class="article-category category-tag-link" href="/categories/%E4%BD%9C%E5%93%81/">作品<span class="article-category category-tag-count">16</span></a></div><div class="article-share" id="share"><div class="jiathis_style"><span class="jiathis_txt">分享到：</span> <a class="jiathis_button_fb">Facebook </a><a class="jiathis_button_googleplus">google+ </a><a class="jiathis_button_twitter">Twitter</a></div><script type="text/javascript">var jiathis_config={data_track_clickback:!0,sm:"copy,renren,cqq",pic:"",summary:""}</script><script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=
2119983" charset="utf-8"></script></div></footer></article><nav class="article-nav clearfix"><div class="prev"><a href="/posts/sbuild03/" title="[作品筆記] sketch-builder 雲端原型工具開發筆記(03)  - 開發的目標與介面設計"><strong>PREVIOUS:</strong><br><span>[作品筆記] sketch-builder 雲端原型工具開發筆記(03) - 開發的目標與介面設計</span></a></div><div class="next"><a href="/posts/gojuonap/" title="[作品]五十音の学習 五十音練習小工具"><strong>NEXT:</strong><br><span>[作品]五十音の学習 五十音練習小工具</span></a></div></nav><section id="comment"><h1 class="title">Comments</h1><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></div></div><div id="asidepart" class="col-lg-15 col-md-15 col-xs-12 hidden-xs hidden-sm"><div id="authorInfo"><div class="author-logo"></div><section class="author-info"><p>前端工程師的筆記</p></section><div class="social-font"><a href="https://github.com/Mike-Zheng" target="_blank" title="github"></a> <a href="https://www.facebook.com/liwenzheng.mike" target="_blank" title="facebook"></a></div></div><aside class="menu clearfix white-brick"><div class="categorieslist"><p class="asidetitle">Categories</p><ul><a href="/categories/作品/" title="作品"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 作品<sup>16</sup></li></a><a href="/categories/程式筆記/" title="程式筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 程式筆記<sup>12</sup></li></a><a href="/categories/開發筆記/" title="開發筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 開發筆記<sup>3</sup></li></a></ul></div><div class="archiveslist"><p class="asidetitle"><a href="/archives">Archives</a></p><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">1</span></li></ul></div><div class="tagslist"><p class="asidetitle">Tags</p><ul class="clearfix"><a href="/tags/Android/" title="Android"><li><i class="fa fa-tag" aria-hidden="true"></i>Android<sup>1</sup></li></a><a href="/tags/Angularjs/" title="Angularjs"><li><i class="fa fa-tag" aria-hidden="true"></i>Angularjs<sup>2</sup></li></a><a href="/tags/DataMining/" title="DataMining"><li><i class="fa fa-tag" aria-hidden="true"></i>DataMining<sup>1</sup></li></a><a href="/tags/Pokemon/" title="Pokemon"><li><i class="fa fa-tag" aria-hidden="true"></i>Pokemon<sup>1</sup></li></a><a href="/tags/SCSS/" title="SCSS"><li><i class="fa fa-tag" aria-hidden="true"></i>SCSS<sup>2</sup></li></a><a href="/tags/Windows/" title="Windows"><li><i class="fa fa-tag" aria-hidden="true"></i>Windows<sup>1</sup></li></a><a href="/tags/apple-script/" title="apple script"><li><i class="fa fa-tag" aria-hidden="true"></i>apple script<sup>1</sup></li></a><a href="/tags/blog/" title="blog"><li><i class="fa fa-tag" aria-hidden="true"></i>blog<sup>1</sup></li></a><a href="/tags/electron/" title="electron"><li><i class="fa fa-tag" aria-hidden="true"></i>electron<sup>1</sup></li></a><a href="/tags/express-筆記/" title="express 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>express 筆記<sup>1</sup></li></a><a href="/tags/google-API/" title="google API"><li><i class="fa fa-tag" aria-hidden="true"></i>google API<sup>2</sup></li></a><a href="/tags/gulp/" title="gulp"><li><i class="fa fa-tag" aria-hidden="true"></i>gulp<sup>1</sup></li></a><a href="/tags/jQuery/" title="jQuery"><li><i class="fa fa-tag" aria-hidden="true"></i>jQuery<sup>6</sup></li></a><a href="/tags/mysql-筆記/" title="mysql 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>mysql 筆記<sup>1</sup></li></a><a href="/tags/node/" title="node"><li><i class="fa fa-tag" aria-hidden="true"></i>node<sup>1</sup></li></a><a href="/tags/node-筆記/" title="node 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>node 筆記<sup>1</sup></li></a><a href="/tags/npm/" title="npm"><li><i class="fa fa-tag" aria-hidden="true"></i>npm<sup>1</sup></li></a><a href="/tags/npm-筆記/" title="npm 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>npm 筆記<sup>1</sup></li></a><a href="/tags/openCV/" title="openCV"><li><i class="fa fa-tag" aria-hidden="true"></i>openCV<sup>1</sup></li></a><a href="/tags/pwa/" title="pwa"><li><i class="fa fa-tag" aria-hidden="true"></i>pwa<sup>2</sup></li></a></ul></div></aside><div id="adsense" class="white-brick adsense-wrapper"><script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-2187797826115869",enable_page_level_ads:!0})</script></div></div></div><footer><footer id="footer"></footer></footer><script type="text/javascript" defer>var disqus_shortname="mikezheng";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script type="text/javascript" defer></script><link rel="stylesheet" href="/fancybox/jquery.fancybox-1.3.4.css" media="screen" type="text/css"><script type="text/javascript" defer>$(document).ready(function(){$(".article-content").each(function(a){$(this).find("img").each(function(){var a=this.alt;a&&$(this).after('<span class="caption">'+a+"</span>"),$(this).wrap('<a href="'+this.src+'" title="'+a+'" class="fancybox"></a>')}),$(this).find(".fancybox").each(function(){$(this).attr("rel","article"+a)})}),$.fancybox&&$(".fancybox").fancybox()})</script><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js?t=1645886312154").then(function(){console.log("ServiceWorker Register Successfully.")}).catch(function(e){console.error(e)})</script><script type="text/javascript" src="/js/mizUI.js"></script></body></html>