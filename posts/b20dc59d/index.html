<!DOCTYPE html><html lang="zh-Hant-TW"><head><link rel="manifest" href="/manifest.json"><link rel="manifest" href="/manifest.json"><meta charset="UTF-8"><title>[學習筆記]使用youtube search api串接建立播放器 | Mike前端工程師筆記</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3,minimum-scale=1"><meta name="author" content="mikeZheng"><meta name="description" content="這次要記錄的部分，源自於實驗室最近開始著手撰寫論文的氛圍，因為大家開始在實驗室內日以繼夜(誤)，因此產生了維持良好環境氣氛的想法，率先著手的是強者我同學，開了一隻內網的ＡＰＩ讓其與實驗室的音響結合，透過這個ＡＰＩ與YOUTUBE VIDEO id 就可以遠端操作實驗室的音響，讓播放音樂不用teamviewer也不用走到server前播放。然後過了一陣子實驗室成員就提出了要有容易使用的介面這種想法，"><meta name="keywords" content="jQuery,google API"><meta property="og:type" content="article"><meta property="og:title" content="[學習筆記]使用youtube search api串接建立播放器"><meta property="og:url" content="https://mike-zheng.github.io/posts/b20dc59d/index.html"><meta property="og:site_name" content="Mike前端工程師筆記"><meta property="og:description" content="這次要記錄的部分，源自於實驗室最近開始著手撰寫論文的氛圍，因為大家開始在實驗室內日以繼夜(誤)，因此產生了維持良好環境氣氛的想法，率先著手的是強者我同學，開了一隻內網的ＡＰＩ讓其與實驗室的音響結合，透過這個ＡＰＩ與YOUTUBE VIDEO id 就可以遠端操作實驗室的音響，讓播放音樂不用teamviewer也不用走到server前播放。然後過了一陣子實驗室成員就提出了要有容易使用的介面這種想法，"><meta property="og:locale" content="zh-Hant-TW"><meta property="og:image" content="https://mike-zheng.github.io/images/thumbnail.png"><meta property="og:updated_time" content="2022-02-26T14:24:36.911Z"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://mike-zheng.github.io/images/thumbnail.png"><link rel="icon" href="/images/LOGO_192x192.png"><link rel="apple-touch-icon" href="/images/LOGO_144x144.png"><link rel="apple-touch-icon-precomposed" href="/images/LOGO_144x144.png"><meta name="apple-mobile-web-app-capable" content="yes"><link href="/images/apple_splash_750.jpg" sizes="750x1334" rel="apple-touch-startup-image"><script deffer>// Detects if device is on iOS 
const isIos = () => {
  const userAgent = window.navigator.userAgent.toLowerCase();
  return /iphone|ipad|ipod/.test( userAgent );
}
// Detects if device is in standalone mode
const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);

// Checks if should display install popup notification:
if (isIos() && !isInStandaloneMode()) {
  this.setState({ showInstallMessage: true });
}</script><!--[if lt IE 9]>
    <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]--><link rel="stylesheet" href="/css/mizUI.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/zclip/1.1.2/jquery.zclip.min.js"></script><link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.6.0/styles/github.min.css"><script src="//cdn.bootcss.com/highlight.js/9.6.0/highlight.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-71903354-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-71903354-1")</script><link rel="stylesheet" href="/css/prism-vsc-dark-plus.css" type="text/css"></head><body><header><div class="header-container"><div id="imglogo" class="site-logo"><a href="/"><img src="/images/LOGO_192x192.png" alt="Mike前端工程師筆記" title="Mike前端工程師筆記"></a></div><div id="textlogo" class="site-name"><div class="site-title"><a href="/" title="Mike前端工程師筆記">前端工程師筆記</a></div></div><div class="nav-container"><div class="nav-head"><nav class="miz-nav"><div class="search-wrapper"><form class="site-search-form"><input type="text" id="local-search-input" class="nav-search st-search-input" autocomplete="off" placeholder="ctrl + `"></form><div id="local-search-result" class="local-search-result-cls"></div></div><ul><li><a href="/">首頁</a></li><li class="active"><a href="/archives">文章</a></li><li><a href="https://www.facebook.com/liwenzheng.mike" target="_blank" rel="noopener">臉書</a></li><li><a href="https://github.com/Mike-Zheng" target="_blank" rel="noopener">Page</a></li><li><div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div></li></ul></nav></div><div id="nav-rwd" class="nav-rwd"><i class="fa fa-bars" aria-hidden="true"></i></div></div></div></header><nav id="mobile-nav" class="mobile-nav"><div id="toc" class="toc-aside"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#GOOGLE-api-申請"><span class="toc-number">1.</span> <span class="toc-text">GOOGLE api 申請</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#撰寫google-搜尋"><span class="toc-number">2.</span> <span class="toc-text">撰寫google 搜尋</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#結果部分"><span class="toc-number">3.</span> <span class="toc-text">結果部分</span></a></li></ol></div><ul class="mobile-menu-container"><a href="/" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-home" aria-hidden="true"></i> 首頁</li></a><a href="/archives" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-pencil-square-o" aria-hidden="true"></i> 文章</li></a><a href="https://www.facebook.com/liwenzheng.mike" target="_blank" rel="noopener" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-facebook-official" aria-hidden="true"></i> 臉書</li></a><a href="https://github.com/Mike-Zheng" target="_blank" rel="noopener" class="mobile-nav-link"><li class="mobile-menu-list"><i class="fa fa-github-square" aria-hidden="true"></i> Page</li></a></ul><div class="mobile-side"><div id="authorInfo"><div class="author-logo"></div><section class="author-info"><p>前端工程師的筆記</p></section><div class="social-font"><a href="https://github.com/Mike-Zheng" target="_blank" title="github"></a> <a href="https://www.facebook.com/liwenzheng.mike" target="_blank" title="facebook"></a></div></div><aside class="menu clearfix white-brick"><div class="categorieslist"><p class="asidetitle">Categories</p><ul><a href="/categories/作品/" title="作品"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 作品<sup>16</sup></li></a><a href="/categories/程式筆記/" title="程式筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 程式筆記<sup>12</sup></li></a><a href="/categories/開發筆記/" title="開發筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 開發筆記<sup>3</sup></li></a></ul></div><div class="archiveslist"><p class="asidetitle"><a href="/archives">Archives</a></p><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">1</span></li></ul></div><div class="tagslist"><p class="asidetitle">Tags</p><ul class="clearfix"><a href="/tags/Android/" title="Android"><li><i class="fa fa-tag" aria-hidden="true"></i>Android<sup>1</sup></li></a><a href="/tags/Angularjs/" title="Angularjs"><li><i class="fa fa-tag" aria-hidden="true"></i>Angularjs<sup>2</sup></li></a><a href="/tags/DataMining/" title="DataMining"><li><i class="fa fa-tag" aria-hidden="true"></i>DataMining<sup>1</sup></li></a><a href="/tags/Pokemon/" title="Pokemon"><li><i class="fa fa-tag" aria-hidden="true"></i>Pokemon<sup>1</sup></li></a><a href="/tags/SCSS/" title="SCSS"><li><i class="fa fa-tag" aria-hidden="true"></i>SCSS<sup>2</sup></li></a><a href="/tags/Windows/" title="Windows"><li><i class="fa fa-tag" aria-hidden="true"></i>Windows<sup>1</sup></li></a><a href="/tags/apple-script/" title="apple script"><li><i class="fa fa-tag" aria-hidden="true"></i>apple script<sup>1</sup></li></a><a href="/tags/blog/" title="blog"><li><i class="fa fa-tag" aria-hidden="true"></i>blog<sup>1</sup></li></a><a href="/tags/electron/" title="electron"><li><i class="fa fa-tag" aria-hidden="true"></i>electron<sup>1</sup></li></a><a href="/tags/express-筆記/" title="express 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>express 筆記<sup>1</sup></li></a><a href="/tags/google-API/" title="google API"><li><i class="fa fa-tag" aria-hidden="true"></i>google API<sup>2</sup></li></a><a href="/tags/gulp/" title="gulp"><li><i class="fa fa-tag" aria-hidden="true"></i>gulp<sup>1</sup></li></a><a href="/tags/jQuery/" title="jQuery"><li><i class="fa fa-tag" aria-hidden="true"></i>jQuery<sup>6</sup></li></a><a href="/tags/mysql-筆記/" title="mysql 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>mysql 筆記<sup>1</sup></li></a><a href="/tags/node/" title="node"><li><i class="fa fa-tag" aria-hidden="true"></i>node<sup>1</sup></li></a><a href="/tags/node-筆記/" title="node 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>node 筆記<sup>1</sup></li></a><a href="/tags/npm/" title="npm"><li><i class="fa fa-tag" aria-hidden="true"></i>npm<sup>1</sup></li></a><a href="/tags/npm-筆記/" title="npm 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>npm 筆記<sup>1</sup></li></a><a href="/tags/openCV/" title="openCV"><li><i class="fa fa-tag" aria-hidden="true"></i>openCV<sup>1</sup></li></a><a href="/tags/pwa/" title="pwa"><li><i class="fa fa-tag" aria-hidden="true"></i>pwa<sup>2</sup></li></a></ul></div></aside></div></nav><div class="overlay"></div><div id="container" class="clearfix miz-container"><div id="main" class="post main col-lg-85 col-md-85 col-xs-12" itemscope itemprop="blogPost"><div class="main-container"><article itemprop="articleBody"><header class="article-info clearfix"><h1 itemprop="name"><a href="/posts/b20dc59d/" title="[學習筆記]使用youtube search api串接建立播放器" itemprop="url">[學習筆記]使用youtube search api串接建立播放器</a></h1><p class="article-author">By <a href="https://mike-zheng.github.io" title="mikeZheng">mikeZheng</a></p><p class="article-time"><time datetime="2016-12-01T12:27:04.000Z" itemprop="datePublished">2016-12-01</time></p></header><div class="article-content markdown-body"><div id="toc" class="toc-article"><strong class="toc-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#GOOGLE-api-申請"><span class="toc-number">1.</span> <span class="toc-text">GOOGLE api 申請</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#撰寫google-搜尋"><span class="toc-number">2.</span> <span class="toc-text">撰寫google 搜尋</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#結果部分"><span class="toc-number">3.</span> <span class="toc-text">結果部分</span></a></li></ol></div><p>這次要記錄的部分，源自於實驗室最近開始著手撰寫論文的氛圍，因為大家開始在實驗室內日以繼夜(誤)，因此產生了維持良好環境氣氛的想法，率先著手的是強者我同學，開了一隻內網的ＡＰＩ讓其與實驗室的音響結合，透過這個ＡＰＩ與YOUTUBE VIDEO id 就可以遠端操作實驗室的音響，讓播放音樂不用teamviewer也不用走到server前播放。<br>然後過了一陣子實驗室成員就提出了要有容易使用的介面這種想法，於是前端工程師就開工了。</p><p>第一個要改善的是搜尋youtube要無痛進行，因此這篇筆記就是從這個方向進行紀錄。</p><h2 id="GOOGLE-api-申請">GOOGLE api 申請</h2><p><code>記錄日期2016-12-01</code><br>包含記錄日期就是怕之後google改版，可能有些東西就不適用了。</p><p>首先去<code>https://console.developers.google.com/apis/</code><br>新增專案，並開啟youtube data API</p><p><img src="01.png" alt="youtube data API"></p><p>然後去憑證新增一個api金鑰<br><img src="02.png" alt="新增金鑰"></p><p>新增完後點擊那個金鑰去裡面設定他的權限及限制，<br>這邊我主要是設定api授權的domian 也就是網域<br><img src="03.png" alt="設定權限"></p><p>這樣基本的google設定就完成了，<br>這邊主要的目的就是向google申請使用它們api的授權key，<br>因為超過流量是要付費的，金鑰的限制一定要設，不然會被玩壞啊。<br>再來就是著手撰寫的部分。</p><h2 id="撰寫google-搜尋">撰寫google 搜尋</h2><p>開始撰寫之前<br>有兩隻js要加載<br><code>https://apis.google.com/js/client.js?onload=onClientLoad</code><br><code>https://code.jquery.com/jquery-2.2.4.min.js</code><br>這邊主要載入jquery方便撰寫<br>及google client操作的js</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation"><</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>IE<span class="token punctuation">=</span>edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>title</span><span class="token punctuation">></span></span>Youtube search<span class="token tag"><span class="token tag"><span class="token punctuation"></</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://apis.google.com/js/client.js?onload<span class="token punctuation">=</span>onClientLoad<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-2.2.4.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation"></</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation"></</span>head</span><span class="token punctuation">></span></span> 
</code></pre><p>這邊是基本的html</p><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation"><</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>queryInput<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search-bar<span class="token punctuation">"</span></span>  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation"><</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>searchButton<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>search-button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      Go
    <span class="token tag"><span class="token tag"><span class="token punctuation"></</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation"></</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation"></</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation"><</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>youtube-channel<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation"></</span>div</span><span class="token punctuation">></span></span>
</code></pre><pre class="language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//2016 mizTech NTU ESOE mikeZheng </span>
<span class="token keyword">var</span> musicCards <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//替按鈕綁上事件</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#searchButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> query <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#queryInput"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//簡單防呆一下</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>query <span class="token operator">!=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">loadYoutubeService</span><span class="token punctuation">(</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#queryInput"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>query <span class="token operator">+</span> <span class="token string">" 搜尋中.."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">//向google 使用youtube服務</span>
<span class="token keyword">function</span> <span class="token function">loadYoutubeService</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gapi<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token string">'youtube'</span><span class="token punctuation">,</span> <span class="token string">'v3'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        gapi<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">setApiKey</span><span class="token punctuation">(</span><span class="token string">'AIzaSyCRwMuGP50aOvrptyXRZtveE50faOLb8R0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">search</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">//搜尋</span>
<span class="token keyword">function</span> <span class="token function">search</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//對於搜尋上的其他功能可以參考googleapi</span>
    <span class="token comment" spellcheck="true">//https://developers.google.com/youtube/v3/docs/search/list#maxResults</span>
    <span class="token keyword">var</span> request <span class="token operator">=</span> gapi<span class="token punctuation">.</span>client<span class="token punctuation">.</span>youtube<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        part<span class="token punctuation">:</span> <span class="token string">'snippet'</span><span class="token punctuation">,</span>
        q<span class="token punctuation">:</span> query<span class="token punctuation">,</span>
        maxResults<span class="token punctuation">:</span> <span class="token number">24</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//將結果把所需部分進行擷取</span>
        $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>items<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>item<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'playlistId'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> musicCard <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
                musicCard<span class="token punctuation">.</span>_id <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'videoId'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                musicCard<span class="token punctuation">.</span>title <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'snippet'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                musicCard<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">"https://www.youtube.com/embed/"</span> <span class="token operator">+</span> musicCard<span class="token punctuation">.</span>_id<span class="token punctuation">;</span>
                musicCard<span class="token punctuation">.</span>description <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'snippet'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'description'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
                musicCards<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>musicCard<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// console.log(musicCards);</span>
        <span class="token comment" spellcheck="true">//將VIEW抽出來另外生成</span>
        <span class="token function">renderView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">renderView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> htmlString <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    musicCards<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>musicCard<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> card <span class="token operator">=</span> <span class="token function">createCard</span><span class="token punctuation">(</span>musicCard<span class="token punctuation">.</span>_id<span class="token punctuation">,</span> musicCard<span class="token punctuation">.</span>title<span class="token punctuation">,</span> musicCard<span class="token punctuation">.</span>description<span class="token punctuation">,</span> musicCard<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>

        htmlString <span class="token operator">+</span><span class="token operator">=</span> card<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#youtube-channel'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>htmlString<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createCard</span><span class="token punctuation">(</span>_id<span class="token punctuation">,</span> title<span class="token punctuation">,</span> description<span class="token punctuation">,</span> url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> card <span class="token operator">=</span> <span class="token template-string"><span class="token string">`<div class="card">`</span></span> <span class="token operator">+</span>
        <span class="token string">'<div class="info">'</span> <span class="token operator">+</span>
        <span class="token string">'<img src="http://img.youtube.com/vi/'</span> <span class="token operator">+</span> _id <span class="token operator">+</span> <span class="token string">'/0.jpg" alt="'</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">'">'</span> <span class="token operator">+</span>
        <span class="token string">'</div>'</span> <span class="token operator">+</span>
        <span class="token string">'<div class="content">'</span> <span class="token operator">+</span>
        <span class="token string">'<a href="'</span><span class="token operator">+</span>url<span class="token operator">+</span><span class="token string">'"><h2>'</span> <span class="token operator">+</span> title <span class="token operator">+</span> <span class="token string">'</h2></a>'</span> <span class="token operator">+</span>
        <span class="token string">'<a href="'</span><span class="token operator">+</span>url<span class="token operator">+</span><span class="token string">'"> https://www.youtube.com/embed/'</span> <span class="token operator">+</span> _id <span class="token operator">+</span> <span class="token string">'</a>'</span> <span class="token operator">+</span>
        <span class="token string">'<p>'</span> <span class="token operator">+</span> description <span class="token operator">+</span> <span class="token string">'</p>'</span> <span class="token operator">+</span>
        <span class="token string">'</div>'</span> <span class="token operator">+</span>
        <span class="token string">'</div>'</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> card<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><p>我切的css 在底下jsfiddle</p><hr><h2 id="結果部分">結果部分</h2><p><a href="https://jsfiddle.net/mikzh/axemo9y8/" target="_blank" rel="noopener">jsfiddle讓你跑跑看 https://jsfiddle.net/mikzh/axemo9y8/</a></p><p>按下result 就可以執行簡單的youtube搜尋操作</p><script async src="//jsfiddle.net/mikzh/axemo9y8/29/embed/js,html,css,result/dark/"></script></div><footer class="article-footer clearfix"><div class="article-tags"><span></span> <span class="tag"><a href="/tags/jQuery/" class="article-tag">jQuery</a></span><span class="tag"><a href="/tags/google-API/" class="article-tag">google API</a></span></div><div class="article-categories"><span></span> <a class="article-category category-tag-link" href="/categories/%E7%A8%8B%E5%BC%8F%E7%AD%86%E8%A8%98/">程式筆記<span class="article-category category-tag-count">12</span></a></div><div class="article-share" id="share"><div class="jiathis_style"><span class="jiathis_txt">分享到：</span> <a class="jiathis_button_fb">Facebook </a><a class="jiathis_button_googleplus">google+ </a><a class="jiathis_button_twitter">Twitter</a></div><script type="text/javascript">var jiathis_config={data_track_clickback:!0,sm:"copy,renren,cqq",pic:"",summary:""}</script><script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=
2119983" charset="utf-8"></script></div></footer></article><nav class="article-nav clearfix"><div class="prev"><a href="/posts/9d2dfbbd/" title="[作品]線上youtube播放器使用angular"><strong>PREVIOUS:</strong><br><span>[作品]線上youtube播放器使用angular</span></a></div><div class="next"><a href="/posts/d57b5f33/" title="[作品]Mike前端工程師筆記"><strong>NEXT:</strong><br><span>[作品]Mike前端工程師筆記</span></a></div></nav><section id="comment"><h1 class="title">Comments</h1><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></section></div></div><div id="asidepart" class="col-lg-15 col-md-15 col-xs-12 hidden-xs hidden-sm"><div id="authorInfo"><div class="author-logo"></div><section class="author-info"><p>前端工程師的筆記</p></section><div class="social-font"><a href="https://github.com/Mike-Zheng" target="_blank" title="github"></a> <a href="https://www.facebook.com/liwenzheng.mike" target="_blank" title="facebook"></a></div></div><aside class="menu clearfix white-brick"><div class="categorieslist"><p class="asidetitle">Categories</p><ul><a href="/categories/作品/" title="作品"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 作品<sup>16</sup></li></a><a href="/categories/程式筆記/" title="程式筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 程式筆記<sup>12</sup></li></a><a href="/categories/開發筆記/" title="開發筆記"><li><i class="fa fa-folder-o" aria-hidden="true"></i> 開發筆記<sup>3</sup></li></a></ul></div><div class="archiveslist"><p class="asidetitle"><a href="/archives">Archives</a></p><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">1</span></li></ul></div><div class="tagslist"><p class="asidetitle">Tags</p><ul class="clearfix"><a href="/tags/Android/" title="Android"><li><i class="fa fa-tag" aria-hidden="true"></i>Android<sup>1</sup></li></a><a href="/tags/Angularjs/" title="Angularjs"><li><i class="fa fa-tag" aria-hidden="true"></i>Angularjs<sup>2</sup></li></a><a href="/tags/DataMining/" title="DataMining"><li><i class="fa fa-tag" aria-hidden="true"></i>DataMining<sup>1</sup></li></a><a href="/tags/Pokemon/" title="Pokemon"><li><i class="fa fa-tag" aria-hidden="true"></i>Pokemon<sup>1</sup></li></a><a href="/tags/SCSS/" title="SCSS"><li><i class="fa fa-tag" aria-hidden="true"></i>SCSS<sup>2</sup></li></a><a href="/tags/Windows/" title="Windows"><li><i class="fa fa-tag" aria-hidden="true"></i>Windows<sup>1</sup></li></a><a href="/tags/apple-script/" title="apple script"><li><i class="fa fa-tag" aria-hidden="true"></i>apple script<sup>1</sup></li></a><a href="/tags/blog/" title="blog"><li><i class="fa fa-tag" aria-hidden="true"></i>blog<sup>1</sup></li></a><a href="/tags/electron/" title="electron"><li><i class="fa fa-tag" aria-hidden="true"></i>electron<sup>1</sup></li></a><a href="/tags/express-筆記/" title="express 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>express 筆記<sup>1</sup></li></a><a href="/tags/google-API/" title="google API"><li><i class="fa fa-tag" aria-hidden="true"></i>google API<sup>2</sup></li></a><a href="/tags/gulp/" title="gulp"><li><i class="fa fa-tag" aria-hidden="true"></i>gulp<sup>1</sup></li></a><a href="/tags/jQuery/" title="jQuery"><li><i class="fa fa-tag" aria-hidden="true"></i>jQuery<sup>6</sup></li></a><a href="/tags/mysql-筆記/" title="mysql 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>mysql 筆記<sup>1</sup></li></a><a href="/tags/node/" title="node"><li><i class="fa fa-tag" aria-hidden="true"></i>node<sup>1</sup></li></a><a href="/tags/node-筆記/" title="node 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>node 筆記<sup>1</sup></li></a><a href="/tags/npm/" title="npm"><li><i class="fa fa-tag" aria-hidden="true"></i>npm<sup>1</sup></li></a><a href="/tags/npm-筆記/" title="npm 筆記"><li><i class="fa fa-tag" aria-hidden="true"></i>npm 筆記<sup>1</sup></li></a><a href="/tags/openCV/" title="openCV"><li><i class="fa fa-tag" aria-hidden="true"></i>openCV<sup>1</sup></li></a><a href="/tags/pwa/" title="pwa"><li><i class="fa fa-tag" aria-hidden="true"></i>pwa<sup>2</sup></li></a></ul></div></aside><div id="adsense" class="white-brick adsense-wrapper"><script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-2187797826115869",enable_page_level_ads:!0})</script></div></div></div><footer><footer id="footer"></footer></footer><script type="text/javascript" defer>var disqus_shortname="mikezheng";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script type="text/javascript" defer></script><link rel="stylesheet" href="/fancybox/jquery.fancybox-1.3.4.css" media="screen" type="text/css"><script type="text/javascript" defer>$(document).ready(function(){$(".article-content").each(function(a){$(this).find("img").each(function(){var a=this.alt;a&&$(this).after('<span class="caption">'+a+"</span>"),$(this).wrap('<a href="'+this.src+'" title="'+a+'" class="fancybox"></a>')}),$(this).find(".fancybox").each(function(){$(this).attr("rel","article"+a)})}),$.fancybox&&$(".fancybox").fancybox()})</script><script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js?t=1645886312154").then(function(){console.log("ServiceWorker Register Successfully.")}).catch(function(e){console.error(e)})</script><script type="text/javascript" src="/js/mizUI.js"></script></body></html>